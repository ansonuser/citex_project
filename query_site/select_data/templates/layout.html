<!DOCTYPE html>
{% load static %}
<html lang="zh-TW">
    <head>
        <meta charset="utf-8">     
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="{% static 'select_data/css/third_party/font-awesome/font-awesome.min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'select_data/css/mycss/style.css' %}">
        <link rel="stylesheet" href="{% static 'select_data/css/third_party/datatable/datatables.css' %}">
        <link rel="stylesheet"  href="{% static 'select_data/css/third_party/datatable/datatables.min.css' %}">
        <link rel="stylesheet"  href="{% static 'select_data/css/third_party/jquery/jquery-ui.css' %}">
        <link rel="stylesheet"  href="{% static 'select_data/css/third_party/bootstrap/bootstrap-vue.css' %}">
        <link rel="icon" HREF="{% static  'select_data/images/favicon.ico' %}"/>


        <script type="text/javascript" src="{% static 'select_data/js/third_party/jquery/jquery.min.js' %}"></script>

        <!-- <script src="{% static 'select_data/js/third_party/bootstrap/jquery-3.4.1.slim.min.js' %}"></script> -->
      

        <script type="text/javascript" src="{% static 'select_data/js/third_party/bootstrap/jquery-3.4.1.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/bootstrap/popper.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/bootstrap/bootstrap.bundle.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/bootstrap/bootstrap.min.js' %}"></script>
        
        <!-- <script src="{% static 'select_data/js/third_party/datatable/datatables.js' %}"></script> -->
        <script type="text/javascript" src="{% static 'select_data/js/third_party/datatable/datatables.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/jquery/jquery-ui.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/jquery/jquery-ui.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/vue/vue.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/myjs/myjs.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/vue/polyfill.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'select_data/js/third_party/vue/bootstrap-vue.js' %}"></script>
        <link rel="stylesheet" type="text/css" href="{% static 'select_data/css/third_party/bootstrap/bootstrap.min.css' %}">
        <title>Test</title>
    </head>
    <body style="background-color:lightgrey">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" id='menu_bar'>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="navbarColor01">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active" id="Home">
                        <a class="nav-link disabled"  href="{% url 'select_data:index' %}" aria-disabled="true">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <li class="nav-item dropdown" id="order_bar">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownorder" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                訂單
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdownorder">
                                <a class="dropdown-item" href="{% url 'select_data:expect_order' %}">預期訂單</a>
                                <a class="dropdown-item" href="{% url 'select_data:actual_order' %}">實際訂單</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="{% url 'select_data:research_order' %}">完成訂單</a>
                            </div> 
                        </li>
                    </li>

                    <li class="nav-item">
                        <li class="nav-item dropdown" id="stock_bar">
                             <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownstock" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                庫存
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdownstock">
                                <a href="{% url 'select_data:record' %}" class="dropdown-item">庫存訂單</a>
                                <a href="{% url 'select_data:revise_record' %}" class="dropdown-item">庫存訂單明細</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="{% url 'select_data:record_research' %}">
                                    庫存查詢
                                </a>
                            </div>
                        </li>
                    </li> 
                    <li class="nav-item" id="customer_bar">
                        <a class="nav-link" href="{% url 'select_data:customer' %}">
                            客戶
                        </a>
                    </li>
     
                    <li class="nav-item" id="product_bar">
                        <a class="nav-link" href="{% url 'select_data:product' %}">
                            商品
                        </a>
                    </li>  
                </ul>
                <div>
                    <form class="form-inline" action="{% url 'select_data:index' %}">
                        <button class="btn btn-secondary" type="submit" >登出</button>
                    </form>
                </div>

            </div>
          </nav>
          <div class="content"> 
              <div class="row" style="padding-top: 3rem;">
                    <div class="col-2">
                    {% block left %}
                    {% endblock %}
                    </div>
                    <div class="col-8">
                        <div class="container">
                            {% block content %}
                            {% endblock %}
                            <div class="card"  style="margin-top:3rem;" id='buttomcard' hidden>
                                <div class="card-header" style="background-color:white;">
                                    <h2> <span class="badge badge-secondary">歷史紀錄</span></h2>
                                </div>

                                <div class="card-body" style="border-style: hidden; overflow-x:auto; " >
                                    <div class='col-md-12'>
                                        <div id="app">
                                            <template>
                                            <b-row>
                                                <b-col sm='4' md='4' lg='4' class='my-1' align-h='start'>
                                                    <b-form-group label='最後修改時間' label-for='select_time_limit' class='mb-0' label-size='sm' label-align-sm='left' label-cols-sm='4' >
                                                        <b-form-select v-model='timenow' :options='timeOptions' name='select_time_limit' size='sm' style="position: absolute;"></b-form-select>
                                                    </b-form-group>
                                                </b-col>
                                                <b-col sm='4' md='4' lg='4' class='my-1'>
                                                    <b-form-group label='每頁筆數' label-for='perPageSelect' class='mb-0' label-size='sm' label-align-sm='right' label-cols-sm='4'>
                                                        <b-form-select v-model='perPage' :options='pageOptions' id='perPageSelect' size='sm'></b-form-select>
                                                    </b-form-group>
                                                </b-col>
                                                <b-col sm='4' md='4' lg='4' class='my-1'>
                                                    <b-form-group label="搜尋" label-for="filterInput" class='mb-0' label-size='sm' label-align-sm='right' label-cols-sm='4'>
                                                        <b-form-input v-model="filter" type='search' id='filterInput' size='sm'>
                                                        </b-form-input>
                                                    </b-form-group>
                                                </b-col>    
                                    
                                            </b-row>
                                            <b-table 
                                            show-empty
                                            small
                                            stacked='md'
                                            :items="items"
                                            :per-page="perPage"
                                            :current-page="currentPage"
                                            :fields="fields"
                                            :filter="filter"
                                            @filtered="onFiltered"
                                            >
                                            <template v-slot:cell(actions)='row'>
                                                <b-button size="sm" class='mr-1' @click='showform(row.item)' data-target="#modified_table" data-toggle="modal">
                                                    編輯
                                                </b-button>
                                            </template>
                                            </b-table>
                                            <b-row>
                                                <b-col sm='7' md='7'></b-col>
                                                <b-col sm='5' md='5' class='my-1'>
                                                    <b-pagination
                                                    v-model="currentPage"
                                                    :total-rows="totalRows"
                                                    :per-page="perPage"
                                                    align="fill"
                                                    size="sm"
                                                    class="my-0"
                                                    >
                                                    </b-pagination>
                                                </b-col>
                                            </b-row>
                                        </template>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                            <div class='modal fade' v-show='isedit' role='dialog' aria-hidden="true" tabindex="-1" id="modified_table">
                                <div class="modal-dialog modal-xl" role="document">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                              </button>
                                        </div>
                                        <div class="modal-body" name='modified-body'>
                                        </div>
                                        
                                        <div class="modal-footer">
                                            <div class="btn-toolbar pull-right" role="toolbar">
                                                <div class="btn-group mr-2" role="group">
                                                    <button type="button" class="btn btn-secondary" style='background-color: transparent; border:transparent' name='delete' onclick="modified_table(1)">&#x274C;</button>
                                                </div>
                        
                                                <div class="btn-group mr-2" role="group" style="padding-left:1rem;">
                                                    <button type="button" class="btn btn-secondary" name='modified' onclick="modified_table(2)">修改</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {% block card %}
                            {% endblock %}
                            <button style="display: none;" data-target="#add_success_id" data-toggle="modal"></button>
                                <div class="modal fade" tabindex="-1" role="dialog" style="display: none; padding-top: 30px;" aria-hidden="true" aria-labelledby="tile" id="add_success_id">
                                    <div class="modal-dialog" role="document" style="border-color: black; border-width: 2px;">
                                        <div class="modal-content">
                                            <div class="modal-header" style="background:rgb(203, 203, 236) ; border-color: black;">
                                                <h3 class="modal-title">
                                                    <span class="badge badge-primary"> Info </span>
                                                </h3>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_modal()">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body" style="background-color: #c5dbdf; border-color: #8ba0b6; border-width: 5px;">
                                                <p style="font-weight: bolder;font-size: 20px; color:deepskyblue(138, 68, 68);">修改成功<br><br>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <div id='warning-info'>
                                <button style="display: none;" data-target="#warning_id" data-toggle="modal"></button>
                            </div>       
                        </div>
                    </div>
                  
                    <div class="col-2"></div>
              </div> 
          </div> 
    </body>
</html>


