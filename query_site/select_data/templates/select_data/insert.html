{% extends "layout.html" %}
{% block left %}
{% endblock %}
{% block content %}
    <script>
        function validatetime(){
            var m1 = document.getElementById("get_date").value;
            var m2 = document.getElementById("expect_date").value;
            var company_name = document.getElementById("company_name").value;
            var factory_site = document.getElementById("factory_site").value;
            var people_name = document.getElementById("people_name").value;
            var product_name = document.getElementById("product_name").value;
            var product_amount = document.getElementById("product_amount").value;
            var product_demand = document.getElementById("po_no").value;
            if (!company_name){
                alert("公司名稱不能為空值");
                return false;
            }else if (!factory_site){
                alert("廠區名稱不能為空值");
                return false;
            }else if (!people_name){
                alert("人名不能為空值");
                return false;
            }else if (!product_name){
                alert("產品名稱不能為空值");
                return false;
            }else if (!product_amount){
                alert("產品數量不能為空值");
                return false;
            }else if (!po_no){
                alert("PO NO.不能為空值");
                return false;
            }else if (!m1 || !m2){
                alert("日期不能為空值");
                return false;
            }else if (m1 > m2){
                alert("接單日期需小於出貨日期");
                return false;
            }
            return true;
        }
    </script>

    <div class="card"> 
        <div class="card-body">
            <form method="post" onsubmit="return validatetime()"> {% csrf_token %}
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="company_name">公司</label>
                        <input type="text" class="form-control" id="company_name">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="factory_site">廠區</label>
                        <input type="text" class="form-control" id="factory_site">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="people_name">人名</label>
                        <input type="text" class="form-control" id="people_name">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="product_name">商品</label>
                        <input type="text" class="form-control" id="product_name" placeholder="商品">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="product_amount">商品數量</label>
                        <input type="text" class="form-control" id="product_amount" placeholder="商品數量">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="po_no">PO 編號</label>
                        <input type="text" class="form-control" id="po_no" placeholder="PO 編號">
                    </div>
                </div>
    
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="get_date">接單時間</label>
                        <input type="date" class="form-control" id="get_date" placeholder="接單時間">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="expect_date">預計出貨日期</label>
                        <input type="date" class="form-control" id="expect_date" placeholder="預計出貨日期">
                    </div>
                </div>
    
                <div class="form-group">
                    <label for="note">備註</label>
                    <input type="text" class="form-control" id="note" placeholder="備註">
                </div>
                <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                    <div class="btn-group mr-2" role="group" style="padding-top: 1.5rem;">
                        <button type="submit" class="btn btn-secondary">送出</button>
                    </div>
    
                    <div class="btn-group mr-2" row="group" style="padding-top: 1.5rem;">
                        <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#record">
                            歷史紀錄
                        </button>
                        <div class="modal fade" role="dialog" aria-labelledby="tile" aria-hidden="true" tabindex="-1" id="record">
                            <div class="modal-dialog modal-xl" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title"  id="title">Modat title</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                    </div>
                                    <div class="modal-body">
                                        ...
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- <div class="conatainer-fuild" style="padding:30px">
        <div class="card-fuild ">
            <div class="card-body-table" >
                <h1 class="center" style="color:black">最近新增</h1>
            </div>
            <table class="table">
                <thread>
                    <th scope="col">#</th>
                    <th scope="col">公司</th>
                    <th scope="col">廠區</th>
                    <th scope="col">窗口</th>
                    <th scope="col">產品</th>
                    <th scope="col">PO NO</th>
                    <th scope="col">數量</th>
                    <th scope="col">接單日期</th>
                    <th scope="col">預期出貨日期</th>
                    <th scope="col">備註</th>
                    <th scope="col">加入時間</th>
                </thread>
                <tbody>
                    {% for eachform in formset%}
                        <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            {% for value in eachform %}
                                <td>{{value}}</td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div> -->
{% endblock %}